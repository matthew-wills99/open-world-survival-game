# University of Windsor Computer Science Capstone
### Matthew Wills & Yusuf Naebkhil

***

We decided to do an open world survival game, set in a randomly generated world, with building and crafting
The perspective is top-down 2D.

***

### Map Generation

Multiple iterations of map generation scripts came to a map generated using cellular automata.

For the initial random terrain and water tiles, the ones towards the centre of the map are more likely to be land.
The smoothing algorithm passes over the map several times.
Biomes are randomly placed a certain distance from each other and are spread to a random size.
Then environment obstacles, trees, cacti, and ores are placed based on their rarity and the biome they are placed on, they are also placed in clusters of random size.

<a href="http://www.youtube.com/watch?feature=player_embedded&v=b2tfX3FlJeY
" target="_blank"><img src="http://img.youtube.com/vi/b2tfX3FlJeY/0.jpg" 
alt="Map Generation Timelapse Video" width="240" height="180" border="10" /></a>

We started converting from a 2D tilemap to 3D voxels while maintaining a top-down view for better camera controls.
The map generation has since been updated, now using multiple distance functions to expand biomes differently for variety.

####Also added river generation.

Rivers are generated by picking a start point and end point, the points being a minimum distance from each other and both points must be on a water tile.
A noise map generated from the map seed is used to define obstacles for the river to move between.
A river is generated with an adjustable width by using A* algorithm and Bezier curves from the start point to the end point.

![alt text](images/map-with-rivers "Map with new biome and river generation")

***

### Inventory & Crafting System

The inventory system works by creating each new unique item as a scriptable object.
We store an array of the Item objects, and update the inventory UI accordingly.
The UI is dynamic and can be adjusted by changing the width and size variables.
You can drag and drop items from one slot to another.

![alt text](images/inventory-system "Inventory UI")

The crafting bar underneath the inventory automatically populates with recipes that can be crafted based on the items in the inventory.
The icons serve as buttons that automatically consume the required items for the craft and add the crafted item to the inventory.

![alt text](images/crafting-system "Crafting Bar")

The following is a list of the items in the game and their crafting recipes

![alt text](images/game-item-list "Game Item List")

***

### Building System

The player could build on a grid square if: there is no environment object in the way, it is on land and not in water, the player is within range of the tile

![alt text](images/building-system "Basic house with placed objects")



